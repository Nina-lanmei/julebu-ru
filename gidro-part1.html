<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>å°æµ‹è¯•</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin: 28px; background: #f5f7fb; color:#213547; }
    h1 { margin: 0 0 10px; font-weight: 800; }
    .muted { color:#667085; font-size:14px; margin:4px 0 14px; }
    .notice { color:#b42318; font-size:13px; margin:2px 0 14px; }

    .card { border: 1px solid #e5e7eb; padding: 20px; margin: 16px auto; width: 94%; max-width: 980px;
            border-radius: 14px; background: #fff; box-shadow: 0 6px 18px rgba(23,43,77,0.06); }
    #cn { font-size:18px; margin-bottom: 14px; }

    .word-row { display:flex; flex-wrap:wrap; justify-content:center; gap:10px; }
    .word-block { display:flex; align-items:center; background:#f9fafb; padding:6px 8px; border-radius: 10px; }
    .word-input {
      min-width: 160px; padding: 10px 12px; font-size: 18px; text-align: center;
      border: 1px solid #d0d7de; border-radius: 10px; outline: none; transition: box-shadow .15s, border-color .15s;
      background: #fff;
    }
    .word-input:focus { box-shadow: 0 0 0 4px rgba(51,136,255,.16); border-color: #3388ff; }
    .punct { font-size:18px; font-weight:700; margin:0 6px; color:#333; }
    .correct { background: #dcfce7 !important; border-color:#16a34a !important; }
    .wrong { background: #fee2e2 !important; border-color:#ef4444 !important; color:#991b1b !important; }
    .done { box-shadow: inset 0 0 0 1px rgba(31,41,55,.08); }

    .controls { margin-top: 10px; display:flex; justify-content:center; gap:10px; flex-wrap:wrap; }
    .btn { padding:10px 16px; border:1px solid #cbd5e1; border-radius:10px; background:#f1f5f9; cursor:pointer; font-size:16px; }
    .btn:hover { background:#e2e8f0; }

    .answer-box { margin: 16px auto 0; padding: 16px; border-radius: 12px; background: #eef2ff; width:94%; max-width: 980px;
                  box-shadow: inset 0 0 6px rgba(0,0,0,.05); text-align:left; }
    .answer-box .row { margin:6px 0; }
    .label { display:inline-block; min-width:96px; color:#475569; }
    .ru { font-size: 22px; font-weight: 800; color: #0f172a; }
  </style>
</head>
<body>
  <h1>ğŸ“– å°æµ‹è¯•</h1>
  <p class="muted">
    é€è¯/è¯ç»„è¾“å…¥ â†’ ç©ºæ ¼/å›è½¦ç¡®è®¤ä¸€ä¸ª â†’ æœ¬é¡µå…¨éƒ¨å®Œæˆåï¼Œå†æŒ‰ç©ºæ ¼æ˜¾ç¤ºç­”æ¡ˆ â†’ å†æŒ‰ç©ºæ ¼è¿›å…¥ä¸‹ä¸€é¡µã€‚<br/>
    å›é€€ï¼šåœ¨è¾“å…¥æ¡†å¼€å¤´æŒ‰ <b>Backspace</b> å›åˆ°ä¸Šä¸€ä¸ªå·²ç¡®è®¤å•è¯ï¼ˆå¹¶æ¸…é™¤å¯¹é”™æ ‡è®°ï¼‰ã€‚<br/>
    æœ—è¯»ï¼šç”µè„‘ç«¯å¼€å§‹è¾“å…¥åè‡ªåŠ¨å¾ªç¯æœ—è¯»ï¼›æ‰‹æœº/å¹³æ¿éœ€ç‚¹ ğŸ”Šï¼ˆè‹¥æ— å£°ï¼Œè¯·å†ç‚¹ä¸€æ¬¡ï¼Œè¿™æ˜¯ç³»ç»Ÿé™åˆ¶ï¼‰ã€‚<br/>
    è·³è¿‡ï¼šç‚¹ â¡ï¸ ä¸‹ä¸€é¡µï¼ˆè‹¥ç­”æ¡ˆæœªæ˜¾ç¤ºï¼Œå°†å…ˆæ˜¾ç¤ºç­”æ¡ˆï¼›å·²æ˜¾ç¤ºåˆ™ç¿»é¡µï¼‰ã€‚<br/>
    è¿”å›ï¼šç‚¹ â¬…ï¸ ä¸Šä¸€é¡µï¼Œä¿ç•™ä½ ä¸Šæ¬¡çš„è¾“å…¥ä¸å¯¹é”™æ ‡è®°ï¼Œç­”æ¡ˆé¢æ¿é»˜è®¤éšè—ã€‚
  </p>
  <p class="notice">âš ï¸ æ‹¬å·ä¸æ ‡ç‚¹ä¼šæ˜¾ç¤ºï¼Œä½†æ— éœ€è¾“å…¥ï¼ˆåªè¾“å…¥å•è¯/è¯ç»„æœ¬ä½“ï¼‰ã€‚</p>

  <div class="card">
    <div id="cn"></div>
    <div id="inputs" class="word-row"></div>
    <div class="controls">
      <button class="btn" id="prevBtn">â¬…ï¸ ä¸Šä¸€é¡µ</button>
      <button class="btn" id="speakBtn">ğŸ”Š æ’­æ”¾/æš‚åœ</button>
      <button class="btn" id="nextBtn">â¡ï¸ ä¸‹ä¸€é¡µ</button>
    </div>
  </div>

  <div id="answer" class="answer-box" style="display:none;">
    <div class="row"><span class="label">ä¿„è¯­ï¼š</span><span id="ru" class="ru"></span></div>
    <div class="row"><span class="label">è¯æ€§/è¯­æ³•ï¼š</span><span id="pos"></span></div>
    <div class="row"><span class="label">ä¸­æ–‡ï¼š</span><span id="cnAnswer"></span></div>
  </div>

  <script>
  // ========= Part 1 å…¨é‡é¡µé¢ =========
  // è§„åˆ™ï¼šåˆ¤å®šç”¨ ruCleanï¼ˆæ— é‡éŸ³ï¼‰ï¼Œç­”æ¡ˆç”¨ ruStressï¼ˆå¸¦é‡éŸ³ï¼‰
  const P = [];

  // â€”â€” å¥1 â€”â€” //
  P.push(
    {cn:"æ¶²å‹åˆ†é…å™¨ï¼ˆç¬¬ä¸€æ ¼ï¼‰", pos:"åè¯ Â· ä¸€æ ¼", ruClean:"Ğ“Ğ¸Ğ´Ñ€Ğ¾Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚ĞµĞ»ÑŒ", ruStress:"Ğ“Ğ¸Ğ´Ñ€Ğ¾Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸ÌÑ‚ĞµĞ»ÑŒ"},
    {cn:"ç”¨äºï¼ˆçŸ­å°¾å½¢ï¼‰", pos:"çŸ­å°¾å½¢", ruClean:"Ğ¿Ñ€ĞµĞ´Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½", ruStress:"Ğ¿Ñ€ĞµĞ´Ğ½Ğ°Ğ·Ğ½Ğ°ÌÑ‡ĞµĞ½"},
    {cn:"æµï¼ˆç¬¬ä¸€æ ¼ï¼‰", pos:"åè¯ Â· ä¸€æ ¼", ruClean:"Ğ¿Ğ¾Ñ‚Ğ¾Ğº", ruStress:"Ğ¿Ğ¾Ñ‚Ğ¾ÌĞº"},
    {cn:"ç”¨äºæ§åˆ¶æµä½“ï¼ˆå®Œæ•´è¯ç»„ï¼‰", pos:"ä»‹è¯ + äºŒæ ¼å¤", ruClean:"Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ°Ğ¼Ğ¸", ruStress:"Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµÌĞ½Ğ¸Ñ Ğ¿Ğ¾Ñ‚Ğ¾ÌĞºĞ°Ğ¼Ğ¸"},
    {cn:"å·¥ä½œæ¶²ä½“ï¼ˆè¯ç»„ ä¸€æ ¼ï¼‰", pos:"è¯ç»„ Â· ä¸€æ ¼", ruClean:"Ñ€Ğ°Ğ±Ğ¾Ñ‡Ğ°Ñ Ğ¶Ğ¸Ğ´ĞºĞ¾ÑÑ‚ÑŒ", ruStress:"Ñ€Ğ°Ğ±Ğ¾ÌÑ‡Ğ°Ñ Ğ¶Ğ¸ÌĞ´ĞºĞ¾ÑÑ‚ÑŒ"},
    {cn:"æ¶²å‹ç³»ç»Ÿï¼ˆç¬¬ä¸€æ ¼ï¼‰", pos:"åè¯ Â· ä¸€æ ¼", ruClean:"Ğ³Ğ¸Ğ´Ñ€Ğ¾ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°", ruStress:"Ğ³Ğ¸Ğ´Ñ€Ğ¾ÑĞ¸ÑÑ‚ĞµÌĞ¼Ğ°"},
    {cn:"åœ¨æ¶²å‹ç³»ç»Ÿä¸­ï¼ˆå‰ç½®æ ¼ï¼‰", pos:"ä»‹è¯ + å‰ç½®æ ¼", ruClean:"Ğ² Ğ³Ğ¸Ğ´Ñ€Ğ¾ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ", ruStress:"Ğ² Ğ³Ğ¸Ğ´Ñ€Ğ¾ÑĞ¸ÑÑ‚ĞµÌĞ¼Ğµ"},
    {cn:"æ¶²å‹åˆ†é…å™¨ç”¨äºæ§åˆ¶æ¶²å‹ç³»ç»Ÿä¸­å·¥ä½œæ¶²ä½“çš„æµåŠ¨ã€‚", pos:"æ•´å¥",
      ruClean:"Ğ“Ğ¸Ğ´Ñ€Ğ¾Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚ĞµĞ»ÑŒ Ğ¿Ñ€ĞµĞ´Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ°Ğ¼Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‡ĞµĞ¹ Ğ¶Ğ¸Ğ´ĞºĞ¾ÑÑ‚Ğ¸ Ğ² Ğ³Ğ¸Ğ´Ñ€Ğ¾ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ.",
      ruStress:"Ğ“Ğ¸Ğ´Ñ€Ğ¾Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸ÌÑ‚ĞµĞ»ÑŒ Ğ¿Ñ€ĞµĞ´Ğ½Ğ°Ğ·Ğ½Ğ°ÌÑ‡ĞµĞ½ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµÌĞ½Ğ¸Ñ Ğ¿Ğ¾Ñ‚Ğ¾ÌĞºĞ°Ğ¼Ğ¸ Ñ€Ğ°Ğ±Ğ¾ÌÑ‡ĞµĞ¹ Ğ¶Ğ¸ÌĞ´ĞºĞ¾ÑÑ‚Ğ¸ Ğ² Ğ³Ğ¸Ğ´Ñ€Ğ¾ÑĞ¸ÑÑ‚ĞµÌĞ¼Ğµ."}
  );

  // â€”â€” å¥2 â€”â€” //
  P.push(
    {cn:"ç”±â€¦â€¦ç»„æˆï¼ˆä¸å®šå¼ï¼‰", pos:"åŠ¨è¯ Â· ä¸å®šå¼", ruClean:"ÑĞ¾ÑÑ‚Ğ¾ÑÑ‚ÑŒ", ruStress:"ÑĞ¾ÑÑ‚Ğ¾ÑÌÑ‚ÑŒ"},
    {cn:"ç”±â€¦â€¦ç»„æˆï¼ˆ3å•ï¼‰", pos:"åŠ¨è¯ Â· 3å•", ruClean:"ÑĞ¾ÑÑ‚Ğ¾Ğ¸Ñ‚", ruStress:"ÑĞ¾ÑÑ‚Ğ¾Ğ¸ÌÑ‚"},
    {cn:"è‹¥å¹²ï¼ˆå¸¦ Ğ¸Ğ· çš„å±æ ¼å¤ï¼‰", pos:"ä»‹è¯ + å±æ ¼å¤", ruClean:"Ğ¸Ğ· Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ…", ruStress:"Ğ¸Ğ· Ğ½ĞµÌÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ…"},
    {cn:"é˜€ç‰‡/åˆ†æ®µï¼ˆç¬¬ä¸€æ ¼ï¼‰", pos:"åè¯ Â· ä¸€æ ¼", ruClean:"ÑĞµĞºÑ†Ğ¸Ñ", ruStress:"ÑĞµÌĞºÑ†Ğ¸Ñ"},
    {cn:"ç”±è‹¥å¹²éƒ¨åˆ†ç»„æˆï¼ˆå®Œæ•´æ­é…ï¼‰", pos:"å›ºå®šæ­é…", ruClean:"ÑĞ¾ÑÑ‚Ğ¾ÑÑ‚ÑŒ Ğ¸Ğ· Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… ÑĞµĞºÑ†Ğ¸Ğ¹", ruStress:"ÑĞ¾ÑÑ‚Ğ¾ÑÌÑ‚ÑŒ Ğ¸Ğ· Ğ½ĞµÌÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… ÑĞµÌĞºÑ†Ğ¸Ğ¹"},
    {cn:"è´Ÿè´£ï¼ˆä¸å®šå¼ï¼‰", pos:"åŠ¨è¯ Â· ä¸å®šå¼", ruClean:"Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°Ñ‚ÑŒ", ruStress:"Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ÌÑ‚ÑŒ"},
    {cn:"è´Ÿè´£â€¦â€¦ï¼ˆå¸¦ Ğ·Ğ°ï¼‰", pos:"åŠ¨è¯ 3å• + æ¥æ ¼", ruClean:"Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ°", ruStress:"Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ÌĞµÑ‚ Ğ·Ğ°"},
    {cn:"æ‰§è¡Œæœºæ„ï¼ˆè¯ç»„ ä¸€æ ¼ï¼‰", pos:"è¯ç»„ Â· ä¸€æ ¼", ruClean:"Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼", ruStress:"Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½Ğ¸ÌÑ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸ÌĞ·Ğ¼"},
    {cn:"å˜å¹…ç¼¸ï¼ˆè¯ç»„ äºŒæ ¼ï¼‰", pos:"è¯ç»„ Â· äºŒæ ¼", ruClean:"Ñ†Ğ¸Ğ»Ğ¸Ğ½Ğ´Ñ€ Ğ¿Ğ¾Ğ´ÑŠĞµĞ¼Ğ°", ruStress:"Ñ†Ğ¸Ğ»Ğ¸ÌĞ½Ğ´Ñ€ Ğ¿Ğ¾Ğ´ÑŠÑ‘Ğ¼Ğ°"},
    {cn:"å›è½¬ç¼¸ï¼ˆè¯ç»„ äºŒæ ¼ï¼‰", pos:"è¯ç»„ Â· äºŒæ ¼", ruClean:"Ñ†Ğ¸Ğ»Ğ¸Ğ½Ğ´Ñ€ Ğ¿Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ñ‚Ğ°", ruStress:"Ñ†Ğ¸Ğ»Ğ¸ÌĞ½Ğ´Ñ€ Ğ¿Ğ¾Ğ²Ğ¾Ñ€Ğ¾ÌÑ‚Ğ°"},
    {cn:"ä¼¸ç¼©ç¼¸ï¼ˆè¯ç»„ äºŒæ ¼ï¼‰", pos:"è¯ç»„ Â· äºŒæ ¼", ruClean:"Ñ†Ğ¸Ğ»Ğ¸Ğ½Ğ´Ñ€ Ğ²Ñ‹Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ", ruStress:"Ñ†Ğ¸Ğ»Ğ¸ÌĞ½Ğ´Ñ€ Ğ²Ñ‹Ğ´Ğ²Ğ¸Ğ¶ĞµÌĞ½Ğ¸Ñ"},
    {cn:"å®ƒç”±è‹¥å¹²é˜€ç‰‡ç»„æˆï¼Œæ¯ä¸€ä¸ªé˜€ç‰‡è´Ÿè´£ä¸€ä¸ªæ‰§è¡Œæœºæ„ï¼ˆä¾‹å¦‚ï¼šå˜å¹…æ²¹ç¼¸ã€å›è½¬æ²¹ç¼¸æˆ–ä¼¸ç¼©æ²¹ç¼¸ï¼‰ã€‚", pos:"æ•´å¥",
      ruClean:"ĞĞ½ ÑĞ¾ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ¸Ğ· Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… ÑĞµĞºÑ†Ğ¸Ğ¹, ĞºĞ°Ğ¶Ğ´Ğ°Ñ Ğ¸Ğ· ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ñ… Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ° Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, Ñ†Ğ¸Ğ»Ğ¸Ğ½Ğ´Ñ€ Ğ¿Ğ¾Ğ´ÑŠĞµĞ¼Ğ°, Ğ¿Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ñ‚Ğ° Ğ¸Ğ»Ğ¸ Ğ²Ñ‹Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ).",
      ruStress:"ĞĞ½ ÑĞ¾ÑÑ‚Ğ¾Ğ¸ÌÑ‚ Ğ¸Ğ· Ğ½ĞµÌÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… ÑĞµÌĞºÑ†Ğ¸Ğ¹, ĞºĞ°ÌĞ¶Ğ´Ğ°Ñ Ğ¸Ğ· ĞºĞ¾Ñ‚Ğ¾ÌÑ€Ñ‹Ñ… Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ÌĞµÑ‚ Ğ·Ğ° Ğ¾Ñ‚Ğ´ĞµÌĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½Ğ¸ÌÑ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸ÌĞ·Ğ¼ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÌÑ€, Ñ†Ğ¸Ğ»Ğ¸ÌĞ½Ğ´Ñ€ Ğ¿Ğ¾Ğ´ÑŠÑ‘Ğ¼Ğ°, Ğ¿Ğ¾Ğ²Ğ¾Ñ€Ğ¾ÌÑ‚Ğ° Ğ¸Ğ»Ğ¸ Ğ²Ñ‹Ğ´Ğ²Ğ¸Ğ¶ĞµÌĞ½Ğ¸Ñ)."}
  );

  // â€”â€” å¥3 â€”â€” //
  P.push(
    {cn:"æ“ä½œå‘˜ï¼ˆç¬¬ä¸€æ ¼ï¼‰", pos:"åè¯ Â· ä¸€æ ¼", ruClean:"Ğ¾Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€", ruStress:"Ğ¾Ğ¿ĞµÑ€Ğ°ÌÑ‚Ğ¾Ñ€"},
    {cn:"ç§»åŠ¨ï¼ˆä¸å®šå¼ï¼‰", pos:"åŠ¨è¯ Â· ä¸å®šå¼", ruClean:"Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰Ğ°Ñ‚ÑŒ", ruStress:"Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰Ğ°ÌÑ‚ÑŒ"},
    {cn:"ç§»åŠ¨ï¼ˆ3å•ï¼‰", pos:"åŠ¨è¯ Â· 3å•", ruClean:"Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰Ğ°ĞµÑ‚", ruStress:"Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰Ğ°ÌĞµÑ‚"},
    {cn:"æ“çºµæ†ï¼ˆåè¯ + äºŒæ ¼ï¼‰", pos:"åè¯ + äºŒæ ¼", ruClean:"Ñ€Ñ‹Ñ‡Ğ°Ğ³ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ", ruStress:"Ñ€Ñ‹Ñ‡Ğ°ÌĞ³ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµÌĞ½Ğ¸Ñ"},
    {cn:"é˜€èŠ¯ï¼ˆç¬¬ä¸€æ ¼ï¼‰", pos:"åè¯ Â· ä¸€æ ¼", ruClean:"Ğ·Ğ¾Ğ»Ğ¾Ñ‚Ğ½Ğ¸Ğº", ruStress:"Ğ·Ğ¾Ğ»Ğ¾ÌÑ‚Ğ½Ğ¸Ğº"},
    {cn:"åœ¨ç›¸åº”çš„é˜€ç‰‡ä¸­ï¼ˆå‰ç½®æ ¼ï¼‰", pos:"ä»‹è¯ + å‰ç½®æ ¼", ruClean:"Ğ² ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ¹ ÑĞµĞºÑ†Ğ¸Ğ¸", ruStress:"Ğ² ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÌÑÑ‰ĞµĞ¹ ÑĞµÌĞºÑ†Ğ¸Ğ¸"},
    {cn:"ä½ç§»/ç§»åŠ¨ï¼ˆä¸å®šå¼ï¼‰", pos:"åŠ¨è¯ Â· ä¸å®šå¼", ruClean:"ÑĞ¼ĞµÑ‰Ğ°Ñ‚ÑŒÑÑ", ruStress:"ÑĞ¼ĞµÑ‰Ğ°ÌÑ‚ÑŒÑÑ"},
    {cn:"ä½ç§»/ç§»åŠ¨ï¼ˆ3å•ï¼‰", pos:"åŠ¨è¯ Â· 3å•", ruClean:"ÑĞ¼ĞµÑ‰Ğ°ĞµÑ‚ÑÑ", ruStress:"ÑĞ¼ĞµÑ‰Ğ°ÌĞµÑ‚ÑÑ"},
    {cn:"å½“æ“ä½œäººå‘˜æ¨åŠ¨æ“çºµæ†æ—¶ï¼Œç›¸åº”é˜€ç‰‡å†…çš„é˜€èŠ¯å‘ç”Ÿç§»åŠ¨ã€‚", pos:"æ•´å¥",
      ruClean:"ĞšĞ¾Ğ³Ğ´Ğ° Ğ¾Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰Ğ°ĞµÑ‚ Ñ€Ñ‹Ñ‡Ğ°Ğ³ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ, Ğ·Ğ¾Ğ»Ğ¾Ñ‚Ğ½Ğ¸Ğº Ğ² ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ¹ ÑĞµĞºÑ†Ğ¸Ğ¸ ÑĞ¼ĞµÑ‰Ğ°ĞµÑ‚ÑÑ.",
      ruStress:"ĞšĞ¾Ğ³Ğ´Ğ°Ì Ğ¾Ğ¿ĞµÑ€Ğ°ÌÑ‚Ğ¾Ñ€ Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰Ğ°ÌĞµÑ‚ Ñ€Ñ‹Ñ‡Ğ°ÌĞ³ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµÌĞ½Ğ¸Ñ, Ğ·Ğ¾Ğ»Ğ¾ÌÑ‚Ğ½Ğ¸Ğº Ğ² ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÌÑÑ‰ĞµĞ¹ ÑĞµÌĞºÑ†Ğ¸Ğ¸ ÑĞ¼ĞµÑ‰Ğ°ÌĞµÑ‚ÑÑ."}
  );

  // â€”â€” å¥4 â€”â€” //
  P.push(
    {cn:"ç»“æœæ˜¯/ç”±äºï¼ˆå›ºå®šè¯ç»„ï¼‰", pos:"å›ºå®šè¯ç»„", ruClean:"Ğ² Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğµ", ruStress:"Ğ² Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°ÌÑ‚Ğµ"},
    {cn:"åœ¨å‹åŠ›ä¸‹ï¼ˆå·¥å…·æ ¼ï¼‰", pos:"å›ºå®šè¯ç»„ Â· å·¥å…·æ ¼", ruClean:"Ğ¿Ğ¾Ğ´ Ğ´Ğ°Ğ²Ğ»ĞµĞ½Ğ¸ĞµĞ¼", ruStress:"Ğ¿Ğ¾Ğ´ Ğ´Ğ°Ğ²Ğ»ĞµÌĞ½Ğ¸ĞµĞ¼"},
    {cn:"è¢«å¼•å¯¼ï¼ˆä¸å®šå¼ï¼‰", pos:"åŠ¨è¯ Â· ä¸å®šå¼", ruClean:"Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ‚ÑŒÑÑ", ruStress:"Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÌÑ‚ÑŒÑÑ"},
    {cn:"è¢«å¼•å¯¼åˆ°æ‰€éœ€é€šé“ï¼ˆæ­é…ï¼‰", pos:"åŠ¨è¯ + å®¾æ ¼", ruClean:"Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ² Ğ½ÑƒĞ¶Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ½Ğ°Ğ»", ruStress:"Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÌĞµÑ‚ÑÑ Ğ² Ğ½ÑƒÌĞ¶Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ½Ğ°ÌĞ»"},
    {cn:"æ— æ†è…”ï¼ˆæ¶²å‹ç¼¸ï¼Œè¯ç»„ï¼‰", pos:"è¯ç»„ Â· é˜´ä¸€æ ¼", ruClean:"Ğ¿Ğ¾Ñ€ÑˆĞ½ĞµĞ²Ğ°Ñ Ğ¿Ğ¾Ğ»Ğ¾ÑÑ‚ÑŒ Ğ³Ğ¸Ğ´Ñ€Ğ¾Ñ†Ğ¸Ğ»Ğ¸Ğ½Ğ´Ñ€Ğ°", ruStress:"Ğ¿Ğ¾Ñ€ÑˆĞ½ĞµĞ²Ğ°ÌÑ Ğ¿Ğ¾ÌĞ»Ğ¾ÑÑ‚ÑŒ Ğ³Ğ¸Ğ´Ñ€Ğ¾Ñ†Ğ¸Ğ»Ğ¸ÌĞ½Ğ´Ñ€Ğ°"},
    {cn:"æœ‰æ†è…”ï¼ˆæ¶²å‹ç¼¸ï¼Œè¯ç»„ï¼‰", pos:"è¯ç»„ Â· é˜´ä¸€æ ¼", ruClean:"ÑˆÑ‚Ğ¾ĞºĞ¾Ğ²Ğ°Ñ Ğ¿Ğ¾Ğ»Ğ¾ÑÑ‚ÑŒ Ğ³Ğ¸Ğ´Ñ€Ğ¾Ñ†Ğ¸Ğ»Ğ¸Ğ½Ğ´Ñ€Ğ°", ruStress:"ÑˆÑ‚Ğ¾ĞºĞ¾ÌĞ²Ğ°Ñ Ğ¿Ğ¾ÌĞ»Ğ¾ÑÑ‚ÑŒ Ğ³Ğ¸Ğ´Ñ€Ğ¾Ñ†Ğ¸Ğ»Ğ¸ÌĞ½Ğ´Ñ€Ğ°"},
    {cn:"ç»“æœæ˜¯ï¼šæ¥è‡ªæ¶²å‹æ³µçš„åŠ å‹å·¥ä½œæ¶²è¢«å¼•å¯¼è¿›å…¥æ‰€éœ€é€šé“â€”â€”è¦ä¹ˆè¿›å…¥æ— æ†è…”ï¼Œè¦ä¹ˆè¿›å…¥æœ‰æ†è…”ã€‚", pos:"æ•´å¥",
      ruClean:"Ğ’ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‡Ğ°Ñ Ğ¶Ğ¸Ğ´ĞºĞ¾ÑÑ‚ÑŒ Ğ¿Ğ¾Ğ´ Ğ´Ğ°Ğ²Ğ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ¾Ñ‚ Ğ½Ğ°ÑĞ¾ÑĞ° Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ² Ğ½ÑƒĞ¶Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ½Ğ°Ğ»: Ğ»Ğ¸Ğ±Ğ¾ Ğº Ğ¿Ğ¾Ñ€ÑˆĞ½ĞµĞ²Ğ¾Ğ¹, Ğ»Ğ¸Ğ±Ğ¾ Ğº ÑˆÑ‚Ğ¾ĞºĞ¾Ğ²Ğ¾Ğ¹ Ğ¿Ğ¾Ğ»Ğ¾ÑÑ‚Ğ¸ Ğ³Ğ¸Ğ´Ñ€Ğ¾Ñ†Ğ¸Ğ»Ğ¸Ğ½Ğ´Ñ€Ğ°.",
      ruStress:"Ğ’ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°ÌÑ‚Ğµ Ñ€Ğ°Ğ±Ğ¾ÌÑ‡Ğ°Ñ Ğ¶Ğ¸ÌĞ´ĞºĞ¾ÑÑ‚ÑŒ Ğ¿Ğ¾Ğ´ Ğ´Ğ°Ğ²Ğ»ĞµÌĞ½Ğ¸ĞµĞ¼ Ğ¾Ñ‚ Ğ½Ğ°ÑĞ¾ÌÑĞ° Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÌĞµÑ‚ÑÑ Ğ² Ğ½ÑƒÌĞ¶Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ½Ğ°ÌĞ»: Ğ»Ğ¸ÌĞ±Ğ¾ Ğº Ğ¿Ğ¾Ñ€ÑˆĞ½ĞµĞ²Ğ¾ÌĞ¹, Ğ»Ğ¸ÌĞ±Ğ¾ Ğº ÑˆÑ‚Ğ¾ĞºĞ¾ÌĞ²Ğ¾Ğ¹ Ğ¿Ğ¾ÌĞ»Ğ¾ÑÑ‚Ğ¸ Ğ³Ğ¸Ğ´Ñ€Ğ¾Ñ†Ğ¸Ğ»Ğ¸ÌĞ½Ğ´Ñ€Ğ°."}
  );

  // â€”â€” å¥5 â€”â€” //
  P.push(
    {cn:"å›æµï¼ˆè¯ç»„ ä¸€æ ¼ï¼‰", pos:"è¯ç»„ Â· ä¸€æ ¼", ruClean:"Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾Ğº", ruStress:"Ğ¾Ğ±Ñ€Ğ°ÌÑ‚Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾ÌĞº"},
    {cn:"è¿”å›ï¼ˆä¸å®šå¼ï¼‰", pos:"åŠ¨è¯ Â· ä¸å®šå¼", ruClean:"Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°Ñ‚ÑŒÑÑ", ruStress:"Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ÌÑ‚ÑŒÑÑ"},
    {cn:"è¿”å›ï¼ˆ3å•ï¼‰", pos:"åŠ¨è¯ Â· 3å•", ruClean:"Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ÑÑ", ruStress:"Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ÌĞµÑ‚ÑÑ"},
    {cn:"é€šè¿‡åˆ†é…å™¨ï¼ˆå·¥å…·æ ¼ï¼‰", pos:"ä»‹è¯ + å·¥å…·æ ¼", ruClean:"Ñ‡ĞµÑ€ĞµĞ· Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚ĞµĞ»ÑŒ", ruStress:"Ñ‡ĞµÌÑ€ĞµĞ· Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸ÌÑ‚ĞµĞ»ÑŒ"},
    {cn:"å›æ²¹ç®¡è·¯ï¼ˆè¯ç»„ ä¸€æ ¼ï¼‰", pos:"è¯ç»„ Â· ä¸€æ ¼", ruClean:"ÑĞ»Ğ¸Ğ²Ğ½Ğ°Ñ Ğ»Ğ¸Ğ½Ğ¸Ñ", ruStress:"ÑĞ»Ğ¸ÌĞ²Ğ½Ğ°Ñ Ğ»Ğ¸ÌĞ½Ğ¸Ñ"},
    {cn:"è¿›å…¥å›æ²¹ç®¡è·¯ï¼ˆå®¾æ ¼ï¼‰", pos:"ä»‹è¯ + å®¾æ ¼", ruClean:"Ğ² ÑĞ»Ğ¸Ğ²Ğ½ÑƒÑ Ğ»Ğ¸Ğ½Ğ¸Ñ", ruStress:"Ğ² ÑĞ»Ğ¸ÌĞ²Ğ½ÑƒÑ Ğ»Ğ¸ÌĞ½Ğ¸Ñ"},
    {cn:"ï¼ˆè¿›å…¥æ²¹ç®±ï¼‰", pos:"æ‹¬å· Â· å‰ç½®æ ¼", ruClean:"(Ğ² Ğ±Ğ°Ğº)", ruStress:"(Ğ² Ğ±Ğ°ÌĞº)"},
    {cn:"ä¸æ­¤åŒæ—¶ï¼Œå¦ä¸€è…”å®¤çš„å›æ²¹é€šè¿‡åˆ†é…å™¨å›åˆ°å›æ²¹ç®¡è·¯ï¼ˆè¿›å…¥æ²¹ç®±ï¼‰ã€‚", pos:"æ•´å¥",
      ruClean:"ĞĞ±Ñ€Ğ°Ñ‚Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾Ğº Ğ¶Ğ¸Ğ´ĞºĞ¾ÑÑ‚Ğ¸ Ğ¸Ğ· Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ğ¿Ğ¾Ğ»Ğ¾ÑÑ‚Ğ¸ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚ĞµĞ»ÑŒ Ğ² ÑĞ»Ğ¸Ğ²Ğ½ÑƒÑ Ğ»Ğ¸Ğ½Ğ¸Ñ (Ğ² Ğ±Ğ°Ğº).",
      ruStress:"ĞĞ±Ñ€Ğ°ÌÑ‚Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾ÌĞº Ğ¶Ğ¸ÌĞ´ĞºĞ¾ÑÑ‚Ğ¸ Ğ¸Ğ· Ğ´Ñ€ÑƒĞ³Ğ¾ÌĞ¹ Ğ¿Ğ¾ÌĞ»Ğ¾ÑÑ‚Ğ¸ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ÌĞµÑ‚ÑÑ Ñ‡ĞµÌÑ€ĞµĞ· Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸ÌÑ‚ĞµĞ»ÑŒ Ğ² ÑĞ»Ğ¸ÌĞ²Ğ½ÑƒÑ Ğ»Ğ¸ÌĞ½Ğ¸Ñ (Ğ² Ğ±Ğ°ÌĞº)."}
  );

  // ä¸ºæ¯ä¸€é¡µå‡†å¤‡å­˜å‚¨ï¼ˆè¿”å›ä¸Šä¸€é¡µæ—¶ä¿ç•™è¾“å…¥ä¸å¯¹é”™ï¼‰
  P.forEach(p => p.userInputs = []);

  // ========= æœ—è¯» & çŠ¶æ€ =========
  let idx=0, showingAnswer=false, pageComplete=false;
  let ruVoice=null, speaking=false, audioUnlocked=false, loopTimer=null;
  const isMobile=/Mobi|Android|iPad|iPhone/i.test(navigator.userAgent);

  function pickRuVoice(){const v=speechSynthesis.getVoices(); ruVoice=v.find(x=>x.lang.toLowerCase().startsWith('ru'))||null;}
  pickRuVoice(); speechSynthesis.onvoiceschanged=pickRuVoice;

  function stopSpeak(){ clearTimeout(loopTimer); speechSynthesis.cancel(); }
  function speakLoop(text){
    if(!audioUnlocked || !speaking) return;
    stopSpeak();
    const u=new SpeechSynthesisUtterance(text);
    if(ruVoice) u.voice=ruVoice;
    u.lang="ru-RU"; u.rate=0.7;
    u.onend=()=>{ if(speaking && !isMobile) loopTimer=setTimeout(()=>speakLoop(text), 1200); };
    speechSynthesis.speak(u);
  }

  // ========= å·¥å…· =========
  function splitToken(w){
    const lead = (w.match(/^[\(\[\{Â«"â€œ]+/)||[""])[0];
    const trail = (w.match(/[\.\,\!\?\;\:\â€”â€“â€¦Â»"â€\)\]\}]+$/)||[""])[0];
    const core = w.slice(lead.length, w.length - trail.length);
    return {lead, core, trail};
  }
  function normalize(s){ return (s||"").toLowerCase().replace(/[.,!?;:â€”â€“â€¦Â«Â»"()]/g,""); }
  function recomputePageComplete(){
    const inputs=document.querySelectorAll('#inputs input.word-input');
    pageComplete=Array.from(inputs).every(i=>i.classList.contains('done'));
  }
  function saveInputs(){
    const inputs=document.querySelectorAll('#inputs input.word-input');
    const p=P[idx];
    p.userInputs=Array.from(inputs).map(inp=>({
      value: inp.value,
      correct: inp.classList.contains('correct'),
      wrong: inp.classList.contains('wrong'),
      done: inp.classList.contains('done')
    }));
  }
  function restoreInputs(){
    const p=P[idx];
    const all=document.querySelectorAll('#inputs input.word-input');
    if(p.userInputs.length !== all.length){ return; }
    p.userInputs.forEach((st,i)=>{
      const inp=all[i];
      inp.value=st.value||"";
      ['correct','wrong','done'].forEach(c=> inp.classList.toggle(c, !!st[c]) );
    });
    recomputePageComplete();
  }

  function attachInputHandlers(inp, fullText){
    inp.addEventListener('input', ()=>{
      if(!audioUnlocked) audioUnlocked=true;
      if(!isMobile && !speaking){ speaking=true; speakLoop(fullText); }
    });
    inp.addEventListener('keydown', (e)=>{
      if(e.key===' ' || e.key==='Enter'){
        e.preventDefault();
        inp.classList.add('done');
        const ok = normalize(inp.value)===normalize(inp.dataset.correct);
        inp.classList.toggle('correct', ok);
        inp.classList.toggle('wrong', !ok);
        recomputePageComplete();
        if(!pageComplete){
          const all=Array.from(document.querySelectorAll('#inputs input.word-input'));
          const i=all.indexOf(inp);
          for(let j=i+1;j<all.length;j++){
            if(!all[j].classList.contains('done')){ all[j].focus(); break; }
          }
        }
        saveInputs();
        return;
      }
      // Backspace å›åˆ°ä¸Šä¸€ä¸ªâ€œå·²ç¡®è®¤â€çš„è¾“å…¥æ¡†ï¼Œå¹¶æ¸…é™¤å…¶çŠ¶æ€
      if(e.key==='Backspace' && (inp.selectionStart===0 && inp.selectionEnd===0 || inp.value==='')){
        e.preventDefault();
        const all=Array.from(document.querySelectorAll('#inputs input.word-input'));
        const i=all.indexOf(inp);
        for(let j=i-1;j>=0;j--){
          if(all[j].classList.contains('done')){
            all[j].classList.remove('done','correct','wrong');
            all[j].focus();
            break;
          }
        }
      }
    });
  }

  // ========= æ¸²æŸ“ =========
  function renderPage(){
    stopSpeak();
    showingAnswer=false; pageComplete=false;
    document.getElementById('answer').style.display='none';

    const p=P[idx];
    document.getElementById('cn').textContent = "ä¸­æ–‡æç¤ºï¼š" + p.cn;

    const inputsDiv=document.getElementById('inputs'); inputsDiv.innerHTML="";
    const tokens = p.ruClean.trim().split(/\s+/);

    // è‹¥ä¿å­˜çš„ userInputs ä¸ tokens æ•°é‡ä¸ä¸€è‡´ï¼Œé‡ç½®ï¼ˆé¿å…â€œè¾“å…¥æ¡†æ•°é‡å¯¹ä¸ä¸Šâ€ï¼‰
    if(p.userInputs.length !== tokens.length){ p.userInputs = new Array(tokens.length).fill(null).map(()=>({value:"",correct:false,wrong:false,done:false})); }

    tokens.forEach((w,k)=>{
      const {lead, core, trail} = splitToken(w);
      const block=document.createElement('div'); block.className='word-block';

      if(lead){ const s=document.createElement('span'); s.className='punct'; s.textContent=lead; block.appendChild(s); }

      const inp=document.createElement('input');
      inp.type="text"; inp.className="word-input"; inp.dataset.correct=core;
      const width = Math.min(Math.max(core.length*12 + 28, 160), 540);
      inp.style.width = width + 'px';
      attachInputHandlers(inp, p.ruStress);
      block.appendChild(inp);

      if(trail){ const t=document.createElement('span'); t.className='punct'; t.textContent=trail; block.appendChild(t); }

      inputsDiv.appendChild(block);
    });

    restoreInputs();
    document.getElementById('prevBtn').disabled = (idx===0);

    // æ¡Œé¢ç«¯å¦‚å·²å¤„äºâ€œæ’­æ”¾ä¸­â€ï¼Œè¿›å…¥é¡µé¢è‡ªåŠ¨æœ—è¯»å½“å‰é¡µ
    if(!isMobile && audioUnlocked && speaking){ speakLoop(P[idx].ruStress); }
    // èšç„¦ç¬¬ä¸€ä¸ªæœªå®Œæˆ
    const firstNotDone = Array.from(document.querySelectorAll('#inputs input.word-input')).find(i=>!i.classList.contains('done')) || document.querySelector('#inputs input.word-input');
    if(firstNotDone) firstNotDone.focus();
  }

  // ========= ç­”æ¡ˆ / ç¿»é¡µ =========
  function showAnswer(){
    const p=P[idx];
    document.getElementById('ru').textContent  = p.ruStress;  // ç­”æ¡ˆæ˜¾ç¤ºå¸¦é‡éŸ³
    document.getElementById('pos').textContent = p.pos||"";
    document.getElementById('cnAnswer').textContent = p.cn||"";
    document.getElementById('answer').style.display='block';
    showingAnswer=true;
  }
  function nextPage(){
    saveInputs();
    if(idx===P.length-1){
      stopSpeak();
      document.getElementById('inputs').innerHTML="";
      document.getElementById('cn').textContent="ğŸ‰ æ­å–œå®Œæˆæµ‹è¯•ï¼";
      document.getElementById('answer').style.display="none";
      document.getElementById('speakBtn').style.display="none";
      document.getElementById('nextBtn').style.display="none";
      document.getElementById('prevBtn').style.display="none";
    }else{
      idx++; renderPage();
    }
  }
  function prevPage(){
    saveInputs();
    if(idx>0){ idx--; renderPage(); }
  }

  // å…¨å±€ï¼šç©ºæ ¼/å›è½¦ â†’ è‹¥æœ¬é¡µå·²å®Œæˆåˆ™æ˜¾ç¤ºç­”æ¡ˆï¼›ç­”æ¡ˆå·²æ˜¾ç¤ºåˆ™ä¸‹ä¸€é¡µ
  document.addEventListener('keydown',(e)=>{
    if(e.key===' '||e.key==='Enter'){
      if(!showingAnswer){
        // æ£€æŸ¥æ˜¯å¦æœ¬é¡µéƒ½ done
        recomputePageComplete();
        if(pageComplete){ e.preventDefault(); showAnswer(); }
      }else{
        e.preventDefault(); nextPage();
      }
    }
  });

  // æ’­æ”¾/æš‚åœ
  document.getElementById('speakBtn').onclick=()=>{
    if(!audioUnlocked){
      audioUnlocked=true;
      // è§£é” iOS/Android éŸ³é¢‘
      const init=new SpeechSynthesisUtterance("Ñ‚ĞµÑÑ‚"); init.lang="ru-RU"; speechSynthesis.speak(init);
    }
    speaking=!speaking;
    if(speaking) speakLoop(P[idx].ruStress); else stopSpeak();
  };
  document.getElementById('nextBtn').onclick=()=>{ if(!showingAnswer){ showAnswer(); } else { nextPage(); } };
  document.getElementById('prevBtn').onclick=()=>{ prevPage(); };

  // å¯åŠ¨
  renderPage();
  </script>
</body>
</html>